(function(){var e,t,n,r,i;n=new function(){},i=n.toString,r=function(e,t,n){var r,i,s,o;n==null&&(n=function(e){return e}),o=n(t),i=0,r=e.length;while(i<r)s=i+r>>1,n(e[s])<o?i=s+1:r=s;return i},e=[].indexOf||function(e){var t,n,r,i,s;t=this;for(r=i=0,s=t.length;i<s;r=++i){n=t[r];if(n===e)return r}return-1},t=function(e){return typeof e=="number"||i.call(e)==="[object Number]"},this.Humanize={},this.Humanize.intword=function(t,n,i){var s,o,u,a,f,l;return t=parseInt(t,10),t.toString().length<=n?this.intcomma(t):(f=[1e3,1e6,1e9],l=["k","M","B"],a=e.call(f,t),a===-1&&(a=r(f,t)-1),u=f[a],s=(t/u+"").slice(0,n),o=s.split(".")[1],i==null&&(i=o!=null&&parseInt(o,10)&&o.length||0),this.intcomma(s,i)+l[a])},this.Humanize.intcomma=function(e,t){return t==null&&(t=0),this.formatNumber(e,t)},this.Humanize.filesize=function(e){var t;return e>=1073741824?t=this.formatNumber(e/1073741824,2,"")+" Gb":e>=1048576?t=this.formatNumber(e/1048576,2,"")+" Mb":e>=1024?t=this.formatNumber(e/1024,0)+" Kb":t=this.formatNumber(e,0)+" bytes",t},this.Humanize.formatNumber=function(e,t,n,r){var i,s,o,u,a,f,l,c=this;return t==null&&(t=0),n==null&&(n=","),r==null&&(r="."),u=function(e,t,n){return n?e.substr(0,n)+t:""},s=function(e,t,n){return e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+t)},o=function(e,t,n){return n?t+c.toFixed(Math.abs(e),n).split(".")[1]:""},l=this.normalizePrecision(t),f=e<0&&"-"||"",i=parseInt(this.toFixed(Math.abs(e||0),l),10)+"",a=i.length>3?i.length%3:0,f+u(i,n,a)+s(i,n,a)+o(e,r,l)},this.Humanize.toFixed=function(e,t){var n;return t==null&&(t=this.normalizePrecision(t,0)),n=Math.pow(10,t),(Math.round(e*n)/n).toFixed(t)},this.Humanize.normalizePrecision=function(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e},this.Humanize.ordinal=function(e){var t,n,r,i;r=parseInt(e,10);if(r===0)return e;i=r%100;if(i===11||i===12||i===13)return r+"th";n=r%10;switch(n){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return r+t},this.Humanize.pluralize=function(e,t,n){if(e==null||t==null)return;return n==null&&(n=t+"s"),parseInt(e,10)===1?t:n},this.Humanize.truncate=function(e,t,n){return t==null&&(t=100),n==null&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e},this.Humanize.truncatewords=function(e,t){var n,r,i;n=e.split(" "),i="",r=0;while(r<t)n[r]!=null&&(i+=n[r]+" "),r++;if(n.length>t)return i+="..."},this.Humanize.truncatenumber=function(e,n,r){var i;return n==null&&(n=100),r==null&&(r="+"),i=null,t(e)&&t(n)&&e>n&&(i=n+r),(i||e).toString()},this.Humanize.oxford=function(e,t,n){var r,i,s;return s=e.length,s<2?""+e:s===2?e.join(" and "):(t!=null&&s>t?(r=s-t,i=t,n==null&&(n=", and "+r+" "+this.pluralize(r,"other"))):(i=-1,n=", and "+e[s-1]),e.slice(0,i).join(", ")+n)},this.Humanize.nl2br=function(e,t){return t==null&&(t="<br/>"),e.replace(/\n/g,t)},this.Humanize.br2nl=function(e,t){return t==null&&(t="\r\n"),e.replace(/\<br\s*\/?\>/g,t)},this.Humanize.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.Humanize.titlecase=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}}).call(this);var arrayIndex,isNumber,objectRef,sortedIndex,toString;objectRef=new function(){},toString=objectRef.toString,sortedIndex=function(e,t,n){var r,i,s,o;n==null&&(n=function(e){return e}),o=n(t),i=0,r=e.length;while(i<r)s=i+r>>1,n(e[s])<o?i=s+1:r=s;return i},arrayIndex=[].indexOf||function(e){var t,n,r,i,s;t=this;for(r=i=0,s=t.length;i<s;r=++i){n=t[r];if(n===e)return r}return-1},isNumber=function(e){return typeof e=="number"||toString.call(e)==="[object Number]"},this.Humanize={},this.Humanize.intword=function(e,t,n){var r,i,s,o,u,a;return e=parseInt(e,10),e.toString().length<=t?this.intcomma(e):(u=[1e3,1e6,1e9],a=["k","M","B"],o=arrayIndex.call(u,e),o===-1&&(o=sortedIndex(u,e)-1),s=u[o],r=(e/s+"").slice(0,t),i=r.split(".")[1],n==null&&(n=i!=null&&parseInt(i,10)&&i.length||0),this.intcomma(r,n)+a[o])},this.Humanize.intcomma=function(e,t){return t==null&&(t=0),this.formatNumber(e,t)},this.Humanize.filesize=function(e){var t;return e>=1073741824?t=this.formatNumber(e/1073741824,2,"")+" Gb":e>=1048576?t=this.formatNumber(e/1048576,2,"")+" Mb":e>=1024?t=this.formatNumber(e/1024,0)+" Kb":t=this.formatNumber(e,0)+" bytes",t},this.Humanize.formatNumber=function(e,t,n,r){var i,s,o,u,a,f,l,c=this;return t==null&&(t=0),n==null&&(n=","),r==null&&(r="."),u=function(e,t,n){return n?e.substr(0,n)+t:""},s=function(e,t,n){return e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+t)},o=function(e,t,n){return n?t+c.toFixed(Math.abs(e),n).split(".")[1]:""},l=this.normalizePrecision(t),f=e<0&&"-"||"",i=parseInt(this.toFixed(Math.abs(e||0),l),10)+"",a=i.length>3?i.length%3:0,f+u(i,n,a)+s(i,n,a)+o(e,r,l)},this.Humanize.toFixed=function(e,t){var n;return t==null&&(t=this.normalizePrecision(t,0)),n=Math.pow(10,t),(Math.round(e*n)/n).toFixed(t)},this.Humanize.normalizePrecision=function(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e},this.Humanize.ordinal=function(e){var t,n,r,i;r=parseInt(e,10);if(r===0)return e;i=r%100;if(i===11||i===12||i===13)return r+"th";n=r%10;switch(n){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return r+t},this.Humanize.pluralize=function(e,t,n){if(e==null||t==null)return;return n==null&&(n=t+"s"),parseInt(e,10)===1?t:n},this.Humanize.truncate=function(e,t,n){return t==null&&(t=100),n==null&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e},this.Humanize.truncatewords=function(e,t){var n,r,i;n=e.split(" "),i="",r=0;while(r<t)n[r]!=null&&(i+=n[r]+" "),r++;if(n.length>t)return i+="..."},this.Humanize.truncatenumber=function(e,t,n){var r;return t==null&&(t=100),n==null&&(n="+"),r=null,isNumber(e)&&isNumber(t)&&e>t&&(r=t+n),(r||e).toString()},this.Humanize.oxford=function(e,t,n){var r,i,s;return s=e.length,s<2?""+e:s===2?e.join(" and "):(t!=null&&s>t?(r=s-t,i=t,n==null&&(n=", and "+r+" "+this.pluralize(r,"other"))):(i=-1,n=", and "+e[s-1]),e.slice(0,i).join(", ")+n)},this.Humanize.nl2br=function(e,t){return t==null&&(t="<br/>"),e.replace(/\n/g,t)},this.Humanize.br2nl=function(e,t){return t==null&&(t="\r\n"),e.replace(/\<br\s*\/?\>/g,t)},this.Humanize.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.Humanize.titlecase=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})};var arrayIndex,isNumber,objectRef,sortedIndex,toString;objectRef=new function(){},toString=objectRef.toString,sortedIndex=function(e,t,n){var r,i,s,o;n==null&&(n=function(e){return e}),o=n(t),i=0,r=e.length;while(i<r)s=i+r>>1,n(e[s])<o?i=s+1:r=s;return i},arrayIndex=[].indexOf||function(e){var t,n,r,i,s;t=this;for(r=i=0,s=t.length;i<s;r=++i){n=t[r];if(n===e)return r}return-1},isNumber=function(e){return typeof e=="number"||toString.call(e)==="[object Number]"},this.Humanize={},this.Humanize.intword=function(e,t,n){var r,i,s,o,u,a;return e=parseInt(e,10),e.toString().length<=t?this.intcomma(e):(u=[1e3,1e6,1e9],a=["k","M","B"],o=arrayIndex.call(u,e),o===-1&&(o=sortedIndex(u,e)-1),s=u[o],r=(e/s+"").slice(0,t),i=r.split(".")[1],n==null&&(n=i!=null&&parseInt(i,10)&&i.length||0),this.intcomma(r,n)+a[o])},this.Humanize.intcomma=function(e,t){return t==null&&(t=0),this.formatNumber(e,t)},this.Humanize.filesize=function(e){var t;return e>=1073741824?t=this.formatNumber(e/1073741824,2,"")+" Gb":e>=1048576?t=this.formatNumber(e/1048576,2,"")+" Mb":e>=1024?t=this.formatNumber(e/1024,0)+" Kb":t=this.formatNumber(e,0)+" bytes",t},this.Humanize.formatNumber=function(e,t,n,r){var i,s,o,u,a,f,l,c=this;return t==null&&(t=0),n==null&&(n=","),r==null&&(r="."),u=function(e,t,n){return n?e.substr(0,n)+t:""},s=function(e,t,n){return e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+t)},o=function(e,t,n){return n?t+c.toFixed(Math.abs(e),n).split(".")[1]:""},l=this.normalizePrecision(t),f=e<0&&"-"||"",i=parseInt(this.toFixed(Math.abs(e||0),l),10)+"",a=i.length>3?i.length%3:0,f+u(i,n,a)+s(i,n,a)+o(e,r,l)},this.Humanize.toFixed=function(e,t){var n;return t==null&&(t=this.normalizePrecision(t,0)),n=Math.pow(10,t),(Math.round(e*n)/n).toFixed(t)},this.Humanize.normalizePrecision=function(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e},this.Humanize.ordinal=function(e){var t,n,r,i;r=parseInt(e,10);if(r===0)return e;i=r%100;if(i===11||i===12||i===13)return r+"th";n=r%10;switch(n){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return r+t},this.Humanize.pluralize=function(e,t,n){if(e==null||t==null)return;return n==null&&(n=t+"s"),parseInt(e,10)===1?t:n},this.Humanize.truncate=function(e,t,n){return t==null&&(t=100),n==null&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e},this.Humanize.truncatewords=function(e,t){var n,r,i;n=e.split(" "),i="",r=0;while(r<t)n[r]!=null&&(i+=n[r]+" "),r++;if(n.length>t)return i+="..."},this.Humanize.truncatenumber=function(e,t,n){var r;return t==null&&(t=100),n==null&&(n="+"),r=null,isNumber(e)&&isNumber(t)&&e>t&&(r=t+n),(r||e).toString()},this.Humanize.oxford=function(e,t,n){var r,i,s;return s=e.length,s<2?""+e:s===2?e.join(" and "):(t!=null&&s>t?(r=s-t,i=t,n==null&&(n=", and "+r+" "+this.pluralize(r,"other"))):(i=-1,n=", and "+e[s-1]),e.slice(0,i).join(", ")+n)},this.Humanize.nl2br=function(e,t){return t==null&&(t="<br/>"),e.replace(/\n/g,t)},this.Humanize.br2nl=function(e,t){return t==null&&(t="\r\n"),e.replace(/\<br\s*\/?\>/g,t)},this.Humanize.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.Humanize.titlecase=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})};